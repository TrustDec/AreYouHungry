webpackJsonp([1,0],[function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=s(33),r=o(i),n=s(24),l=o(n),a=s(32),c=o(a),p=s(31),d=o(p),u=s(25),f=o(u),v=s(27),h=o(v),m=s(28),x=o(m);s(9),r.default.use(c.default),r.default.use(d.default);var g=r.default.extend(l.default),y=new c.default({linkActiveClass:"active"});y.map({"/goods":{component:f.default},"/ratings":{component:h.default},"/seller":{component:x.default}}),y.start(g,"#app"),y.go("/goods")},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(26),r=o(i),n=0;t.default={data:function(){return{seller:{}}},created:function(){var e=this;this.$http.get("/api/seller").then(function(t){t=t.body,t.errno===n&&(e.seller=t.data)})},components:{"v-header":r.default}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(8),r=o(i),n=s(29),l=o(n),a=0;t.default={props:{seller:{type:Object}},data:function(){return{goods:[],listHeight:[],scrollY:0}},computed:{currentIndex:function(){for(var e=0;e<this.listHeight.length;e++){var t=this.listHeight[e],s=this.listHeight[e+1];if(!s||this.scrollY>=t&&this.scrollY<s)return e}return 0}},created:function(){var e=this;this.classMap=["decrease","discount","special","invoice","guarantee"],this.$http.get("/api/goods").then(function(t){t=t.body,t.errno===a&&(e.goods=t.data,e.$nextTick(function(){e._initScroll(),e._calculateHeight()}))})},methods:{selectMenu:function(e,t){if(t._constructed){var s=this.$els.foodsWrapper.getElementsByClassName("food-list-hook"),o=s[e];this.foodsScroll.scrollToElement(o,300)}},_initScroll:function(){var e=this;this.meunScroll=new r.default(this.$els.menuWrapper,{click:!0}),this.foodsScroll=new r.default(this.$els.foodsWrapper,{probeType:3}),this.foodsScroll.on("scroll",function(t){e.scrollY=Math.abs(Math.round(t.y))})},_calculateHeight:function(){var e=0,t=this.$els.foodsWrapper.getElementsByClassName("food-list-hook");this.listHeight.push(e);for(var s=0;s<t.length;s++){var o=t[s];e+=o.clientHeight,this.listHeight.push(e)}}},components:{shopcart:l.default}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(30),r=o(i);t.default={props:{seller:{type:Object}},data:function(){return{detailShow:!1}},methods:{showDetail:function(){this.detailShow=!0},hideDetail:function(){this.detailShow=!1}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},components:{star:r.default}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{selectFoods:{type:Array,default:function(){return[{price:30,count:4}]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},computed:{totalPrice:function(){var e=0;return this.selectFoods.forEach(function(t){e+=t.price*t.count}),e},totalCount:function(){var e=0;return this.selectFoods.forEach(function(t){e+=t.count}),e},payDesc:function(){if(0===this.totalPrice)return"￥"+this.minPrice+"元起送";if(this.totalPrice<this.minPrice){var e=this.minPrice-this.totalPrice;return"还差￥"+e+"元起送"}return"去结算"},payClass:function(){return this.totalPrice<this.minPrice?"not-enough":"enough"}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=5,o="on",i="half",r="off";t.default={props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},itemClasses:function(){for(var e=[],t=Math.floor(2*this.score)/2,n=t%1!==0,l=Math.floor(t),a=0;a<l;a++)e.push(o);for(n&&e.push(i);e.length<s;)e.push(r);return e}}}},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports=' <div> <v-header :seller=seller></v-header> <div class="tab border-1px"> <div class=tab-item> <a v-link="{path:\'/goods\'}">商品</a> </div> <div class=tab-item> <a v-link="{path:\'/ratings\'}">评论</a> </div> <div class=tab-item> <a v-link="{path:\'/seller\'}">商家</a> </div> </div> <router-view :seller=seller></router-view> </div> '},function(e,t){e.exports=' <div class=goods> <div class=menu-wrapper v-el:menu-wrapper> <ul> <li v-for="item in goods" class=menu-item :class="{\'current\':currentIndex===$index}" @click=selectMenu($index,$event)> <span class="text border-1px"> <span v-show="item.type>0" class=icon :class=classMap[item.type]></span>{{item.name}} </span> </li> </ul></div> <div class=foods-wrapper v-el:foods-wrapper> <ul> <li v-for="item in goods" class="food-list food-list-hook"> <h1 class=title>{{item.name}}</h1> <ul> <li v-for="food in item.foods" class="food-item border-1px"> <div class=icon> <img :src=food.icon width=57 height=57 /> </div> <div class=content> <h2 class=name>{{food.name}}</h2> <p class=desc>{{food.description}}</p> <div class=extra> <span class=count>月售{{foodsellCount}}份</span><span>好评率{{food.rating}}%</span> </div> <div class=price> <span class=now>￥{{food.price}}</span> <span class=old v-show=food.oldPrice>￥{{food.oldPrice}}</span> </div> </div> </li> </ul> </li> </ul></div> <shopcart :delivery-price=seller.deliveryPrice :min-price=seller.minPrice></shopcart> </div> '},function(e,t){e.exports=' <div class=header> <div class=content-wrapper> <div class=avatar> <img :src=seller.avatar width=64> </div> <div class=content> <div class=title> <span class=brand></span> <span class=name>{{seller.name}}</span> </div> <div class=description> {{seller.description}} / {{seller.deliveryTime}}分钟送达 </div> <div v-if=seller.supports class=support> <span class=icon :class=classMap[seller.supports[0].type]></span> <span class=text>{{seller.supports[0].description}}</span> </div> </div> <div class=support-count v-if=seller.supports @click=showDetail> <span class=count>{{seller.supports.length}}个</span> <i class=icon-keyboard_arrow_right></i> </div> </div> <div class=bulletin-wrapper @click=showDetail> <span class=bulletin-title></span><span class=bulletin-text>{{seller.bulletin}}</span> <i class=icon-keyboard_arrow_right></i> </div> <div class=background> <img :src=seller.avatar width=100% height=100% /> </div> <div class=detail v-show=detailShow transition=fade> <div class="detail-wrapper clearfix"> <div class=detail-main> <h1 class=name>{{seller.name}}</h1> <div class=star-wrapper> <star :size=48 :score=seller.score></star> </div> <div class=title> <div class=line></div> <div class=text>优惠信息</div> <div class=line></div> </div> <ul v-if=seller.supports class=supports> <li class=support-item v-for="item in seller.supports"> <span class=icon :class=classMap[seller.supports[$index].type]></span> <span class=text>{{seller.supports[$index].description}}</span> </li> </ul> <div class=title> <div class=line></div> <div class=text>商品公告</div> <div class=line></div> </div> <div class=bulletin> <p class=content>{{seller.bulletin}}</p> </div> </div> </div> <div class=detail-close @click=hideDetail> <i class=icon-close></i> </div> </div> </div> '},function(e,t){e.exports=" <div class=ratings> ratings </div> "},function(e,t){e.exports=" <div class=seller> seller </div> "},function(e,t){e.exports=' <div class=shopcart> <div class=content> <div class=content-left> <div class=logo-wrapper> <div class=logo :class="{\'highlight\':totalCount>0}"> <i class=icon-shopping_cart :class="{\'highlight\':totalCount > 0}"></i> </div> <div class=num v-show="totalCount>0">{{totalCount}}</div> </div> <div class=price :class="{\'highlight\':totalPrice > 0}">￥{{totalPrice}}元</div> <div class=desc>另需配送费￥{{deliveryPrice}}元</div> </div> <div class=content-right> <div class=pay :class=payClass>{{payDesc}}</div> </div> </div> </div> '},function(e,t){e.exports=' <div class=star :class=starType> <span v-for="itemClass in itemClasses" :class=itemClass class=star-item track-by=$index></span> </div> '},function(e,t,s){var o,i,r={};s(10),o=s(1),i=s(17),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(r).forEach(function(e){var t=r[e];n.computed[e]=function(){return t}})},function(e,t,s){var o,i,r={};s(11),o=s(2),i=s(18),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(r).forEach(function(e){var t=r[e];n.computed[e]=function(){return t}})},function(e,t,s){var o,i,r={};s(12),o=s(3),i=s(19),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(r).forEach(function(e){var t=r[e];n.computed[e]=function(){return t}})},function(e,t,s){var o,i,r={};s(13),o=s(4),i=s(20),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(r).forEach(function(e){var t=r[e];n.computed[e]=function(){return t}})},function(e,t,s){var o,i,r={};s(14),o=s(5),i=s(21),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(r).forEach(function(e){var t=r[e];n.computed[e]=function(){return t}})},function(e,t,s){var o,i,r={};s(15),o=s(6),i=s(22),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(r).forEach(function(e){var t=r[e];n.computed[e]=function(){return t}})},function(e,t,s){var o,i,r={};s(16),o=s(7),i=s(23),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(r).forEach(function(e){var t=r[e];n.computed[e]=function(){return t}})}]);